<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Metadados -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O poder da Comunica√ß√£o</title>


<link rel="manifest" href="manifest.json">

<link rel="icon" href="icons/icon-zap192.png" sizes="192x192" type="image/png">


    <!-- Bibliotecas e Fontes -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Font Awesome para √≠cones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
    <!-- Fonte Roboto -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">

    <!-- Estilos Personalizados -->
    <style>
        /* Reset e Estilos B√°sicos */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            height: 100%;
            font-family: 'Roboto', sans-serif;
            background-color: #f4f6f9;
            color: #333;
        }

        /* Header */
        .header {
            background-color: #fff;
            padding: 15px 20px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header .logo {
            font-size: 24px;
            font-weight: 700;
            color: #007bff;
        }

        .header .menu-toggle {
            display: none;
            font-size: 24px;
            cursor: pointer;
        }

        /* Menu Horizontal para Mobile */
        .mobile-menu {
            display: none;
            background-color: #fff;
            position: fixed;
            top: 60px;
            width: 100%;
            left: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 999;
        }

        .mobile-menu ul {
            list-style: none;
            display: flex;
            overflow-x: auto;
        }

        .mobile-menu ul li {
            flex: none;
        }

        .mobile-menu ul li a {
            display: block;
            padding: 15px 20px;
            text-decoration: none;
            color: #333;
            white-space: nowrap;
            font-size: 16px;
        }

        .mobile-menu ul li a:hover {
            background-color: #f4f6f9;
        }

        /* Container Principal */
        .container-main {
            display: flex;
            margin-top: 80px;
            height: calc(100% - 80px);
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: #fff;
            padding: 20px;
            flex-shrink: 0;
            border-right: 1px solid #e0e0e0;
            overflow-y: auto;
        }

        .sidebar h4 {
            font-weight: 500;
            margin-bottom: 15px;
            color: #333;
        }

        .sidebar .category-list {
            list-style: none;
        }

        .sidebar .category-list li {
            margin-bottom: 10px;
        }

        .sidebar .category-list li a {
            text-decoration: none;
            color: #555;
            font-size: 16px;
            transition: color 0.3s;
        }

        .sidebar .category-list li a:hover {
            color: #007bff;
        }

        /* Conte√∫do Principal */
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        /* Campo de Busca */
        .search-bar {
            position: relative;
            margin-bottom: 20px;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 40px 10px 15px;
            border-radius: 30px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        .search-bar .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #aaa;
            font-size: 18px;
        }

        /* Campos de Contato */
        .contact-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }

        .contact-info .input-group {
            display: flex;
            flex-direction: column;
            flex: 1;
            min-width: 200px;
        }

        .contact-info .input-group label {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .contact-info .input-group input {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        /* Cart√µes de Mensagens */
        .message-list {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .message-card {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 20px;
            width: calc(33.333% - 20px);
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .message-card:hover {
            transform: translateY(-5px);
        }

        .message-card .message-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .message-card .message-header .icon {
            font-size: 24px;
            margin-right: 10px;
            color: #007bff;
        }

        .message-card .message-header h5 {
            font-size: 18px;
            font-weight: 500;
            color: #333;
        }

        .message-card .message-body {
            flex: 1;
            margin-bottom: 15px;
            color: #555;
            font-size: 14px;
            line-height: 1.5;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .message-card .action-buttons {
            display: flex;
            gap: 10px;
        }

        .message-card .action-buttons button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .message-card .action-buttons .btn-copy {
            background-color: #28a745;
            color: #fff;
        }

        .message-card .action-buttons .btn-copy:hover {
            background-color: #218838;
        }

        .message-card .action-buttons .btn-whatsapp {
            background-color: #25d366;
            color: #fff;
        }

        .message-card .action-buttons .btn-whatsapp:hover {
            background-color: #1ebe57;
        }

        .message-card .action-buttons .btn-edit {
            background-color: #007bff;
            color: #fff;
        }

        .message-card .action-buttons .btn-edit:hover {
            background-color: #0069d9;
        }

        /* Bot√£o de Fixar */
        .message-card .pin-button {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            cursor: pointer;
            color: #ffc107;
            font-size: 20px;
            transition: transform 0.3s;
        }

        .message-card .pin-button:hover {
            transform: scale(1.2);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background-color: #fff;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            position: relative;
            animation: slideDown 0.3s ease-out;
            display: flex;
            flex-direction: column;
            max-height: 90vh;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .modal-content {
                width: 100%;
                height: 100vh;
                max-width: none;
                max-height: none;
                border-radius: 0;
            }
        }

        .modal-content h4 {
            margin-bottom: 20px;
            color: #333;
            flex-shrink: 0;
            padding: 0 20px;
        }

        .modal-content textarea {
            width: 100%;
            flex-grow: 1;
            padding: 15px 20px;
            border: none;
            font-size: 14px;
            resize: none;
            overflow-y: auto;
        }

        .modal-content textarea:focus {
            outline: none;
        }

        .modal-content .modal-actions {
            margin: 20px;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            flex-shrink: 0;
        }

        .modal-content .modal-actions button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .modal-content .modal-actions .btn-close {
            background-color: #6c757d;
            color: #fff;
        }

        .modal-content .modal-actions .btn-close:hover {
            background-color: #5a6268;
        }

        .modal-content .modal-actions .btn-save {
            background-color: #28a745;
            color: #fff;
        }

        .modal-content .modal-actions .btn-save:hover {
            background-color: #218838;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #343a40;
            color: #fff;
            padding: 15px 25px;
            border-radius: 5px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s, visibility 0.5s;
            z-index: 3000;
        }

        .toast.show {
            opacity: 1;
            visibility: visible;
        }

        /* Anima√ß√µes Suaves */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsividade */
        @media (max-width: 992px) {
            .message-card {
                width: calc(50% - 20px);
            }
        }

        @media (max-width: 768px) {
            .header .menu-toggle {
                display: block;
            }

            .sidebar {
                display: none;
            }

            .mobile-menu {
                display: block;
            }

            .container-main {
                flex-direction: column;
            }

            .message-card {
                width: 100%;
            }

            .content {
                padding: 80px 20px 20px 20px; /* Ajuste para n√£o ficar atr√°s do menu mobile */
            }
        }

        @media (max-width: 576px) {
            .header .logo {
                font-size: 20px;
            }

            .search-bar input {
                padding: 8px 35px 8px 15px;
                font-size: 14px;
            }

            .search-bar .search-icon {
                font-size: 16px;
            }

            .message-card .message-header h5 {
                font-size: 16px;
            }

            .message-card .message-body {
                font-size: 13px;
            }

            .message-card .action-buttons button {
                font-size: 13px;
                padding: 8px;
            }

            .modal-content {
                padding: 20px;
            }

            .modal-content h4 {
                font-size: 18px;
            }

            .modal-content textarea {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">ZapFim-Pro</div>
        <i class="fas fa-bars menu-toggle" id="menuToggle"></i>
    </header>

    <!-- Menu Horizontal para Mobile -->
    <nav class="mobile-menu" id="mobileMenu">
        <ul id="mobileCategoryList">
            <!-- As categorias ser√£o carregadas dinamicamente -->
        </ul>
    </nav>

    <!-- Container Principal -->
    <div class="container-main">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <h4>Categorias</h4>
            <ul class="category-list" id="categoryList">
                <!-- As categorias ser√£o carregadas dinamicamente -->
            </ul>
        </aside>

        <!-- Conte√∫do Principal -->
        <main class="content" id="mainContent">
            <!-- O conte√∫do ser√° carregado dinamicamente -->
        </main>
    </div>

    <!-- Modal de Edi√ß√£o -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <h4>Editar Mensagem</h4>
            <textarea id="modalTextarea"></textarea>
            <div class="modal-actions">
                <button class="btn-close" id="modalCloseBtn">Fechar</button>
                <button class="btn-save" id="modalSaveBtn">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">Mensagem copiada!</div>

    <!-- Scripts -->
    
    <!-- Bibliotecas -->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>



 <!-- Registro do Service Worker -->
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('sw.js').then(function(registration) {
                console.log('ServiceWorker registrado com sucesso:', registration.scope);
            }, function(err) {
                console.log('Falha ao registrar o ServiceWorker:', err);
            });
        });
    }
</script>


    <!-- Script Personalizado -->
    <script type="text/babel">
        
   
        // Simula√ß√£o de dados (Categorias e Mensagens)
        const categoriesData = [
          
            // SAUDA√á√ÉO
{
    id: "saudacao",
    title: "Mensagens Sauda√ß√£o",
    icon: "üëã",
    sortOrder: 1,
    messages: [
        {
            id: 1,
            title: "Boas-vindas Cordial",
            icon: "üòä",
            text: "Ol√°! Tudo bem com voc√™? √â um prazer contar com sua presen√ßa. Estamos aqui para entender suas necessidades e oferecer as melhores solu√ß√µes em pel√≠culas. Como podemos ser √∫teis hoje?"
        },
        {
            id: 2,
            title: "Apresenta√ß√£o Pessoal",
            icon: "ü§ù",
            text: "[nome] falando da [Nome da Empresa]! Tudo bem com Voc√™? Sabemos que cada cliente √© √∫nico, e estamos prontos para ouvir e atender √†s suas necessidades. Em que podemos ajudar?"
        },
        {
            id: 3,
            title: "Agradecimento Inicial",
            icon: "üôè",
            text: "Agrade√ßo por entrar em contato conosco. T√° tudo bem com voc√™ hoje? Quero poder prestar um excelente atendimento. Por favor, compartilhe como podemos ajudar."
        },
        {
            id: 4,
            title: "Boas-vindas Profissional",
            icon: "üíº",
            text: "Feliz em receber sua mensagem. Sou [nome], pode contar comigo para esclarecer d√∫vidas e oferecer solu√ß√£o eficaz para voc√™. Como podemos ser √∫teis hoje?"
        },
        {
            id: 5,
            title: "Atendimento Personalizado",
            icon: "üåü",
            text: "Entendemos a import√¢ncia de um atendimento personalizado e estamos aqui para garantir sua satisfa√ß√£o. Me chamo [nome]. Em que posso ser √∫til para voc√™ hoje?"
        },
        {
            id: 6,
            title: "Sauda√ß√£o com Foco em Solu√ß√µes",
            icon: "üí´",
            text: "Ol√°, sou [Seu Nome], da [Nome da Empresa]. Espero que esteja bem. Como posso ajudar voc√™ hoje?"
        },
        {
            id: 7,
            title: "Anti-V√°cuo",
            icon: "‚ú®",
            text: "Oi [nome], percebi que n√£o obtive retorno. Ainda posso ajudar com informa√ß√µes sobre nossas pel√≠culas?"
        },
        {
            id: 8,
            title: "Anti-V√°cuo agressivo",
            icon: "‚ö°",
            text: "Importante! [nome], n√£o quero que voc√™ perca a oportunidade de conhecer nossas solu√ß√µes em pel√≠culas. Quando podemos conversar?"
        },
        {
            id: 9,
            title: "Encerramento de tentativa",
            icon: "üîö",
            text: "Entendo que talvez agora n√£o seja o momento ideal. Ficarei √† disposi√ß√£o quando precisar de informa√ß√µes sobre pel√≠culas. Tenha um √≥timo dia!"
        }
    ]
},
// INDICA√á√ÉO
{
    id: "indicacao",
    title: "INDICA√á√ÉO",
    icon: "‚ö°",
    sortOrder: 2,
    messages: [
        {
            id: 1,
            title: "Abordagem Inicial - Cliente Indicado",
            icon: "‚ö°",
            text: "Oi [nome],\n\nTudo bem? A [nome da pessoa que indicou] me passou o seu contato. Meu nome √© Nathan. Ela me indicou seu contato, eu trabalho com transforma√ß√£o de neg√≥cio e aumento de faturamento para empreendedores atrav√©s das redes sociais."
        }
        // ... outras mensagens
    ]
},
// PERGUNTAS
{
    id: "perguntas",
    title: "Perguntas Importantes",
    icon: "‚ùì",
    sortOrder: 4,
    messages: [
        {
            id: 1,
            title: "Perguntas Vencedoras",
            icon: "üéØ",
            text: "Qual √© o principal motivo que te fez buscar pel√≠culas neste momento? Isso me ajudar√° a oferecer a melhor solu√ß√£o para voc√™."
        },
        {
            id: 2,
            title: "Demonstrar interesse e aten√ß√£o",
            icon: "üëÇ",
            text: "Entendi sua necessidade. Me conte mais sobre [aspecto mencionado pelo cliente], assim posso te ajudar de forma mais espec√≠fica."
        },
        {
            id: 3,
            title: "Interesse no problema do cliente",
            icon: "ü§ù",
            text: "Compreendo sua situa√ß√£o com [problema mencionado]. J√° ajudamos muitos clientes com desafios similares. Posso te mostrar algumas solu√ß√µes?"
        },
        {
            id: 4,
            title: "Cliente Sem Tempo",
            icon: "‚è∞",
            text: "Sei que seu tempo √© valioso. Posso te apresentar rapidamente nossas principais solu√ß√µes em apenas 5 minutos. O que acha?"
        },
        {
            id: 5,
            title: "Mandar Depoimento de Outros Clientes",
            icon: "‚≠ê",
            text: "Olha s√≥ o que nossos clientes est√£o falando sobre nossos servi√ßos: [depoimento]. Posso te mostrar mais casos de sucesso similares ao que voc√™ procura?"
        }
    ]
},
// ENCANTAMENTO DO CLIENTE
{
    id: "encantamento_cliente",
    title: "Encanta o cliente",
    icon: "‚ú®",
    sortOrder: 5,
    messages: [
        {
            id: 1,
            title: "Demonstrar interesse e aten√ß√£o",
            icon: "üéØ",
            text: "Como est√° sendo sua experi√™ncia at√© agora? H√° algo espec√≠fico que voc√™ gostaria de saber mais a respeito?"
        },
        {
            id: 2,
            title: "Interesse no problema do cliente",
            icon: "ü§ù",
            text: "Percebo que [situa√ß√£o espec√≠fica] √© importante para voc√™. Posso te explicar como nossas solu√ß√µes podem ajudar especificamente nesse aspecto?"
        },
        {
            id: 3,
            title: "Cliente Sem Tempo",
            icon: "‚ö°",
            text: "Vou ser bem objetivo(a) para otimizar seu tempo. Aqui est√° o que precisa saber: [pontos principais]. Podemos avan√ßar?"
        },
        {
            id: 4,
            title: "Mandar Depoimento de Outros Clientes",
            icon: "üåü",
            text: "Gostaria de compartilhar a experi√™ncia de um cliente que tinha uma necessidade parecida com a sua: [depoimento relevante]. O que achou?"
        },
        {
            id: 5,
            title: "Script Mensagem de Aus√™ncia",
            icon: "üìù",
            text: "Estou temporariamente ausente, mas retorno seu contato em breve para garantir o melhor atendimento poss√≠vel. Agrade√ßo sua compreens√£o!"
        },
        {
            id: 6,
            title: "Feedback de Satisfa√ß√£o",
            icon: "üìä",
            text: "Como foi sua experi√™ncia com nosso servi√ßo at√© agora? Seu feedback √© muito importante para continuarmos melhorando sempre!"
        }
    ]
},
// AGENDAMENTO
{
    id: "agendamento",
    title: "Agendamento",
    icon: "üìÖ",
    sortOrder: 2,
    messages: [
        {
            id: 1,
            title: "Agendar hor√°rio",
            icon: "‚è∞",
            text: "Que √≥timo que voc√™ tem interesse! Temos hor√°rios dispon√≠veis para [data]. Qual seria melhor para voc√™?"
        },
        {
            id: 2,
            title: "Cliente desmarcou",
            icon: "‚ùå",
            text: "Entendo que imprevistos acontecem! Podemos remarcar para outro hor√°rio que seja mais conveniente para voc√™. Que tal [sugest√£o de nova data]?"
        },
        {
            id: 3,
            title: "Cliente furou",
            icon: "‚ö†Ô∏è",
            text: "Notei que n√£o conseguimos nos encontrar no hor√°rio marcado. Gostaria de remarcar para um hor√°rio mais conveniente?"
        },
        {
            id: 4,
            title: "P√≥s reuni√£o/consulta",
            icon: "‚úÖ",
            text: "Foi um prazer te atender hoje! Espero que tenha gostado de nossas solu√ß√µes. Estou √† disposi√ß√£o para qualquer d√∫vida adicional."
        }
    ]
},
// LEMBRETE
{
    id: "lembrete",
    title: "Lembrete",
    icon: "üîî",
    sortOrder: 3,
    messages: [
        {
            id: 1,
            title: "Lembrete de agendamento anti furo",
            icon: "üìù",
            text: "Ol√° [nome]! Passando para confirmar nosso hor√°rio amanh√£ √†s [hor√°rio]."
        },
        {
            id: 2,
            title: "Lembrete por dia cliente novo",
            icon: "üÜï",
            text: "Ol√° [nome]! Lembrando do nosso compromisso hoje √†s [hor√°rio]. At√© mais!"
        },
        {
            id: 3,
            title: "Lembrete agendamento cliente antigo",
            icon: "üë•",
            text: "Oi [nome]! S√≥ vim confirmar nosso compromisso de hoje √†s [data/hora]."
        }
    ]
},
// REATIVA√á√ÉO
{
    id: "reativacao",
    title: "Reativa√ß√£o contato",
    icon: "üîÑ",
    sortOrder: 6,
    messages: [
        {
            id: 1,
            title: "Cliente que n√£o respondeu h√° algum tempo",
            icon: "‚è∞",
            text: "Ol√° [nome]! Faz um tempo que n√£o nos falamos e queria saber como voc√™ est√°. Caso ainda tenha interesse em nossas pel√≠culas, estou √† disposi√ß√£o para ajudar!"
        },
        {
            id: 2,
            title: "Cliente parou de ir",
            icon: "üîô",
            text: "Oi [nome], notei que faz um tempo desde sua √∫ltima visita. Est√° tudo bem? Temos novidades em pel√≠culas que podem te interessar. Posso te contar mais sobre?"
        },
        {
            id: 3,
            title: "Cliente pediu or√ßamento e n√£o respondeu",
            icon: "üíº",
            text: "Ol√° [nome]! Lembra do or√ßamento que fizemos para voc√™? Ainda estou √† disposi√ß√£o para esclarecer qualquer d√∫vida e ajudar voc√™ a fazer o melhor investimento em pel√≠culas."
        }
    ]
},
// P√ìS VENDA
{
    id: "pos_venda",
    title: "P√≥s venda",
    icon: "üéØ",
    sortOrder: 7,
    messages: [
        {
            id: 1,
            title: "Pedir avalia√ß√£o sobre o produto ou servi√ßo",
            icon: "‚≠ê",
            text: "Ol√° [nome]! Como foi sua experi√™ncia com nossas pel√≠culas? Seu feedback √© muito importante para n√≥s. Poderia compartilhar sua opini√£o? Isso nos ajuda a melhorar sempre!"
        },
        {
            id: 2,
            title: "Pedir avalia√ß√£o no Google",
            icon: "üì±",
            text: "Oi [nome]! Sua opini√£o √© muito valiosa para n√≥s. Se puder, gostaria que compartilhasse sua experi√™ncia com nossa empresa no Google. Posso te enviar o link?"
        },
        {
            id: 3,
            title: "Pedir depoimento em v√≠deo",
            icon: "üé•",
            text: "Oi [nome]! Sua satisfa√ß√£o com nosso servi√ßo nos deixou muito felizes. Gostaria de gravar um breve depoimento em v√≠deo contando sua experi√™ncia? Seria incr√≠vel!"
        },
        {
            id: 4,
            title: "Oferecer brinde para avalia√ß√£o",
            icon: "üéÅ",
            text: "Ol√° [nome]! Para agradecer sua confian√ßa em nosso trabalho, gostar√≠amos de oferecer um brinde especial em troca de sua avalia√ß√£o sincera. O que acha?"
        },
        {
            id: 5,
            title: "Acompanhamento p√≥s-instala√ß√£o",
            icon: "‚úÖ",
            text: "Oi [nome]! Como est√° a pel√≠cula que instalamos? Est√° tudo conforme suas expectativas? Estou √† disposi√ß√£o para qualquer ajuste ou d√∫vida que surgir!"
        }
    ]
},
// AVALIA√á√ïES GOOGLE
{
    id: "google_reviews",
    title: "Avalia√ß√µes Google",
    icon: "‚≠ê",
    sortOrder: 8,
    messages: [
        {
            id: 1,
            title: "Solicitar Avalia√ß√£o Simples",
            icon: "üì±",
            text: "Oi [nome]! Sua opini√£o √© muito importante para n√≥s. Se puder nos avaliar no Google, ficaremos muito gratos! Aqui est√° o link: [link do Google]"
        },
        {
            id: 2,
            title: "Pedido Detalhado de Avalia√ß√£o",
            icon: "üåü",
            text: "Ol√° [nome]! Ficamos muito felizes em te atender. Se poss√≠vel, poderia compartilhar sua experi√™ncia com nossa empresa no Google? Sua avalia√ß√£o ajuda outros clientes a nos encontrarem. Link: [link do Google]"
        },
        {
            id: 3,
            title: "Avalia√ß√£o com Incentivo",
            icon: "üéÅ",
            text: "Oi [nome]! Para agradecer sua confian√ßa, preparamos um desconto especial na sua pr√≥xima visita quando voc√™ compartilhar sua experi√™ncia no Google. Posso te enviar o link?"
        },
        {
            id: 4,
            title: "Lembrete de Avalia√ß√£o",
            icon: "üîî",
            text: "Ol√° [nome]! Passando para lembrar sobre a avalia√ß√£o no Google que conversamos. Sua opini√£o √© fundamental para continuarmos melhorando! Aqui est√° o link novamente: [link do Google]"
        },
        {
            id: 5,
            title: "Agradecimento por Avaliar",
            icon: "üôè",
            text: "Muito obrigado por nos avaliar no Google, [nome]! Seu feedback √© muito valioso e nos ajuda a melhorar sempre. Conte sempre conosco!"
        },
        {
            id: 6,
            title: "P√≥s Avalia√ß√£o Positiva",
            icon: "üí´",
            text: "Obrigado pela excelente avalia√ß√£o, [nome]! Ficamos muito felizes em saber que sua experi√™ncia foi positiva. Continuaremos trabalhando para manter esse n√≠vel de qualidade!"
        },
        {
            id: 7,
            title: "Feedback para Melhorias",
            icon: "üìù",
            text: "Ol√° [nome]! Notamos sua avalia√ß√£o e gostar√≠amos de entender melhor como podemos melhorar nossos servi√ßos. Poderia nos dar mais detalhes sobre sua experi√™ncia?"
        },
        {
            id: 8,
            title: "Convite para Nova Visita",
            icon: "üéØ",
            text: "Obrigado por nos avaliar, [nome]! Como agradecimento, preparamos uma condi√ß√£o especial para sua pr√≥xima visita. Quando podemos agendar?"
        }
    ]
},
// PROPOSTA ENVIADA
{
    id: "proposta",
    title: "Proposta Enviada",
    icon: "üëã",
    sortOrder: 9,
    messages: [
        {
            id: 1,
            title: "Primeira Mensagem (1-2 dias ap√≥s a proposta)",
            icon: "üî•",
            text: "Oi [nome]! Passando para ver se teve a oportunidade de analisar nossa proposta de aplica√ß√£o de pel√≠cula. Alguma d√∫vida sobre os detalhes, benef√≠cios ou garantias? Estamos aqui para ajudar com o que precisar."
        },
        {
            id: 2,
            title: "Segunda Mensagem (3-5 dias ap√≥s a proposta)",
            icon: "üî•",
            text: "Ol√° [nome], s√≥ para lembrar que as pel√≠culas oferecidas est√£o dispon√≠veis com garantia de qualidade e aplica√ß√£o certificada. Isso significa que voc√™ pode contar com a durabilidade e efic√°cia comprovada do nosso servi√ßo."
        },
        {
            id: 3,
            title: "Terceira Mensagem (ap√≥s 7 dias)",
            icon: "üî•",
            text: "Oi [nome]! Queremos que voc√™ fa√ßa a escolha certa para seu projeto. Ficaremos felizes em ajudar com mais informa√ß√µes ou ajustar a proposta conforme suas necessidades. Conte conosco!"
        }
    ]
},
// CLIENTE FALA DO PRE√áO
{
    id: "objecao_preco",
    title: "Justificando Pre√ßo",
    icon: "üí∞",
    sortOrder: 19,
    messages: [
        {
            id: 1,
            title: "Valoriza√ß√£o do Investimento",
            icon: "üíé",
            text: "Compreendo que o investimento √© uma considera√ß√£o importante. Permita-me destacar que nossas pel√≠culas s√£o de alta qualidade, oferecendo benef√≠cios como durabilidade, efici√™ncia energ√©tica e prote√ß√£o UV, o que proporciona economia a longo prazo."
        },
        {
            id: 2,
            title: "Aplica√ß√£o tembem conta",
            icon: "‚öñÔ∏è",
            text: "Compreendo perfeitamente, mas voc√™ est√° investindo n√£o apenas na pel√≠cula mas sim em um servi√ßo de aplica√ß√£o profissional, garantindo que a pel√≠cula desempenhe sua fun√ß√£o de forma eficaz. Nossa empresa √© reconhecida pela excel√™ncia no atendimento e pela satisfa√ß√£o dos clientes, o que justifica o valor do investimento."
        },
        {
            id: 3,
            title: "Condi√ß√µes de Pagamento",
            icon: "üí≥",
            text: "Olha [nome], para justificar seu investimento, podemos trazer diversas formas de pagamento: parcelamento em at√© [12x], desconto especial √† vista, e at√© op√ß√£o de PIX. Qual dessas condi√ß√µes seria mais confort√°vel para voc√™ hoje?"
        },
        {
            id: 4,
            title: "engendecendo nosso servi√ßo",
            icon: "üéØ",
            text: "Entendemos o valor do investimento, e √© justamente por isso que garantimos uma aplica√ß√£o sem bolhas, sem falhas e com alta durabilidade. Nossos clientes s√£o 100% Satisfeitos e sempre acabam indicando nosso servi√ßo."
        },
        {
            id: 5,
            title: "Promo√ß√£o Limitada",
            icon: "‚ö°",
            text: "Sabemos que existem op√ß√µes mais baratas no mercado. No entanto, nossa empresa se destaca pela excel√™ncia no atendimento e pela utiliza√ß√£o de materiais de alta qualidade. Nossa equipe √© constantemente treinada para oferecer o melhor servi√ßo, o que se reflete nas avalia√ß√µes positivas de nossos clientes."
        },
        {
            id: 6,
            title: "Valor Agregado",
            icon: "‚ú®",
            text: "Al√©m da pel√≠cula em si, [nome], voc√™ recebe: instala√ß√£o profissional, garantia vital√≠cia e acompanhamento p√≥s-venda."
        },
        {
            id: 7,
            title: "Fechamento com Urg√™ncia",
            icon: "üî•",
            text: "Entendo sua an√°lise de pre√ßo, [nome]. Justamente por isso separei uma condi√ß√£o especial para voc√™: al√©m do desconto de [20]%, voc√™ ainda leva [b√¥nus/brinde: caneca, caneta, flanela]. Mas preciso da sua resposta hoje. Podemos apertar as m√£os?"
        }
    ]
},
// AGINDO PELO MEDO DE UMA MA APLICA√á√ÉO
{
    id: "medo",
    title: "Agindo pelo Medo",
    icon: "‚ö°",
    sortOrder: 2,
    messages: [
        {
            id: 1,
            title: "Risco de Profissionais Inexperientes",
            icon: "‚ö°",
            text: "Sabemos que o mercado est√° cheio de op√ß√µes, mas √© importante escolher bem. Uma aplica√ß√£o feita por algu√©m sem experi√™ncia pode resultar em problemas como bolhas, riscos no vidro, e at√© mesmo danos permanentes nos acabamentos. Aqui, garantimos um servi√ßo impec√°vel, feito por especialistas."
        },
        {
            id: 2,
            title: "Evite Resultados de Baixa Qualidade",
            icon: "‚ö°",
            text: "Muitos clientes nos procuram ap√≥s experi√™ncias ruins com outras empresas. Imagine se, em vez de uma pel√≠cula impec√°vel, o resultado fosse uma aplica√ß√£o cheia de bolhas ou um vidro riscado. Investir em qualidade evita transtornos e retrabalho."
        },
        {
            id: 3,
            title: "Preven√ß√£o de Danos e Seguran√ßa do Material",
            icon: "‚ö°",
            text: "A aplica√ß√£o de pel√≠cula exige cuidados t√©cnicos para proteger cada detalhe do ambiente. Profissionais n√£o capacitados podem acabar riscando o vidro, manchando as paredes, ou at√© danificando a estrutura ao redor. Com a gente, voc√™ evita qualquer preocupa√ß√£o: nossa equipe √© treinada para garantir um resultado perfeito e seguro."
        },
        {
            id: 4,
            title: "Garantia de Acabamento Impec√°vel",
            icon: "‚ö°",
            text: "Aplicar pel√≠culas exige n√£o s√≥ t√©cnica, mas tamb√©m um compromisso com o acabamento e a seguran√ßa do espa√ßo do cliente. Ao confiar em profissionais menos preparados, h√° um risco real de sujeira, marcas permanentes e acabamento mal feito. Aqui, garantimos que cada detalhe ser√° tratado com o m√°ximo cuidado."
        },
        {
            id: 5,
            title: "Hist√≥rias de Clientes que Escolheram Mal e Tiveram Preju√≠zo",
            icon: "‚ö°",
            text: "Recentemente, um cliente nos procurou ap√≥s uma experi√™ncia ruim com outro aplicador. O resultado foram bolhas e manchas permanentes no vidro, exigindo uma remo√ß√£o completa e substitui√ß√£o da pel√≠cula. Com nossa experi√™ncia e cuidado, garantimos que o trabalho seja impec√°vel desde o in√≠cio, evitando esse tipo de retrabalho e custo adicional."
        },
        {
            id: 6,
            title: "Certifica√ß√µes e Treinamento da Equipe",
            icon: "‚ö°",
            text: "Nossa equipe √© treinada e certificada para evitar os problemas mais comuns na aplica√ß√£o de pel√≠culas, como riscos no vidro e manchas. Contamos com t√©cnicas exclusivas que garantem uma instala√ß√£o sem qualquer falha ou dano ao ambiente."
        },
        {
            id: 7,
            title: "Uso de Materiais e Equipamentos de Alta Qualidade",
            icon: "‚ö°",
            text: "Diferente de aplicadores inexperientes que muitas vezes utilizam materiais inadequados, aqui utilizamos apenas pel√≠culas de alta qualidade e equipamentos especializados que garantem um acabamento perfeito e duradouro. Trabalhar com o melhor √© nossa garantia de um resultado superior."
        },
        {
            id: 8,
            title: "Pol√≠tica de Garantia e Satisfa√ß√£o do Cliente",
            icon: "‚ö°",
            text: "Nosso compromisso √© com a sua satisfa√ß√£o completa. Oferecemos uma pol√≠tica de garantia que cobre qualquer eventual problema, o que significa que, com nossa aplica√ß√£o, voc√™ n√£o corre o risco de surpresas desagrad√°veis como bolhas ou danos."
        },
        {
            id: 9,
            title: "Compara√ß√£o com o Mercado",
            icon: "‚ö°",
            text: "O barato muitas vezes sai caro. Aplicadores sem o devido conhecimento podem parecer vantajosos pelo pre√ßo, mas o risco de falhas, retrabalhos e at√© danos ao seu patrim√¥nio √© real. N√≥s investimos em capacita√ß√£o e materiais de ponta para garantir um servi√ßo impec√°vel."
        }
    ]
}
          
            // ... outras categorias e mensagens
        ];

        function App() {
            // Estados
            const [categories, setCategories] = React.useState([]);
            const [selectedCategory, setSelectedCategory] = React.useState(null);
            const [searchTerm, setSearchTerm] = React.useState('');
            const [filteredMessages, setFilteredMessages] = React.useState([]);
            const [modalVisible, setModalVisible] = React.useState(false);
            const [modalMessage, setModalMessage] = React.useState(null);
            const [toastMessage, setToastMessage] = React.useState('');
            const [pinnedMessages, setPinnedMessages] = React.useState([]);

            // Novos estados para o nome e telefone do cliente
            const [clientName, setClientName] = React.useState('');
            const [clientPhone, setClientPhone] = React.useState('');

            // Carregar dados iniciais
            React.useEffect(() => {
                // Carregar categorias
                const savedCategories = JSON.parse(localStorage.getItem('categoriesData'));
                if (savedCategories && savedCategories.length > 0) {
                    setCategories(savedCategories);
                } else {
                    setCategories(categoriesData);
                }

                // Carregar mensagens fixadas
                const savedPinnedMessages = JSON.parse(localStorage.getItem('pinnedMessages')) || [];
                setPinnedMessages(savedPinnedMessages);

                // Carregar dados do cliente
                const savedClientName = localStorage.getItem('clientName') || '';
                const savedClientPhone = localStorage.getItem('clientPhone') || '(83) 99647-6052';
                setClientName(savedClientName);
                setClientPhone(savedClientPhone);
            }, []);

            // Atualizar mensagens filtradas
            React.useEffect(() => {
                filterMessages();
            }, [categories, selectedCategory, searchTerm]);

            // Atualizar localStorage sempre que categories mudar
            React.useEffect(() => {
                localStorage.setItem('categoriesData', JSON.stringify(categories));
            }, [categories]);

            // Filtrar mensagens
            const filterMessages = () => {
                let messages = [];
                if (selectedCategory) {
                    messages = selectedCategory.messages;
                } else {
                    categories.forEach(cat => {
                        messages = messages.concat(cat.messages);
                    });
                }

                if (searchTerm) {
                    messages = messages.filter(msg =>
                        msg.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        msg.text.toLowerCase().includes(searchTerm.toLowerCase())
                    );
                }

                setFilteredMessages(messages);
            };

            // Selecionar categoria
            const handleCategorySelect = (category) => {
                setSelectedCategory(category);
                setSearchTerm('');
            };

            // Atualizar termo de busca
            const handleSearch = (e) => {
                setSearchTerm(e.target.value);
            };

            // Fun√ß√£o para substituir [nome] na mensagem
            const personalizeMessage = (text) => {
                return text.replace(/\[nome\]/gi, clientName || '[nome]');
            };

            // Fun√ß√£o para formatar o telefone para o WhatsApp
            const formatPhoneNumberForWhatsApp = (phone) => {
                const numericPhone = phone.replace(/\D/g, '');
                if (numericPhone.length === 11) {
                    return `55${numericPhone}`;
                } else if (numericPhone.length === 13 && numericPhone.startsWith('55')) {
                    return numericPhone;
                } else {
                    return '';
                }
            };

            // Fun√ß√£o para aplicar m√°scara no telefone
            const formatPhoneNumber = (phone) => {
                phone = phone.replace(/\D/g, '');

                if (phone.length > 0) {
                    phone = phone.replace(/^(\d{2})(\d)/g, '($1) $2');
                }
                if (phone.length > 9) {
                    phone = phone.replace(/(\d{5})(\d{4})$/, '$1-$2');
                } else if (phone.length > 5) {
                    phone = phone.replace(/(\d{4})(\d{0,4})$/, '$1-$2');
                }

                return phone;
            };

            // Fun√ß√µes de mudan√ßa dos campos de contato
            const handleClientNameChange = (e) => {
                const name = e.target.value;
                setClientName(name);
                localStorage.setItem('clientName', name);
            };

            const handleClientPhoneChange = (e) => {
                let phone = e.target.value;
                phone = formatPhoneNumber(phone);
                setClientPhone(phone);
                localStorage.setItem('clientPhone', phone);
            };

            // Copiar mensagem
            const copyMessage = (text) => {
                const personalizedText = personalizeMessage(text);
                navigator.clipboard.writeText(personalizedText);
                showToast('Mensagem copiada com sucesso!');
            };

            // Enviar via WhatsApp
            const sendWhatsApp = (text) => {
                const personalizedText = personalizeMessage(text);
                const phoneNumber = formatPhoneNumberForWhatsApp(clientPhone);
                if (phoneNumber) {
                    const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(personalizedText)}`;
                    window.open(url, '_blank');
                } else {
                    showToast('N√∫mero de telefone inv√°lido!');
                }
            };

            // Abrir modal de edi√ß√£o
            const openEditModal = (message) => {
                setModalMessage({ ...message });
                setModalVisible(true);
            };

            // Salvar mensagem editada
            const saveEditedMessage = () => {
                const updatedCategories = categories.map(cat => {
                    const updatedMessages = cat.messages.map(msg => {
                        if (msg.id === modalMessage.id) {
                            return { ...modalMessage };
                        }
                        return msg;
                    });
                    return { ...cat, messages: updatedMessages };
                });
                setCategories(updatedCategories);

                // Atualizar mensagens fixadas, se necess√°rio
                const isPinned = pinnedMessages.some(msg => msg.id === modalMessage.id);
                if (isPinned) {
                    const updatedPinnedMessages = pinnedMessages.map(msg => {
                        if (msg.id === modalMessage.id) {
                            return { ...modalMessage };
                        }
                        return msg;
                    });
                    setPinnedMessages(updatedPinnedMessages);
                    localStorage.setItem('pinnedMessages', JSON.stringify(updatedPinnedMessages));
                }

                // Salvar as categorias atualizadas no localStorage
                localStorage.setItem('categoriesData', JSON.stringify(updatedCategories));

                setModalVisible(false);
                showToast('Mensagem atualizada com sucesso!');
            };

            // Mostrar toast
            const showToast = (message) => {
                setToastMessage(message);
                const toastEl = document.getElementById('toast');
                toastEl.classList.add('show');
                setTimeout(() => {
                    toastEl.classList.remove('show');
                    setToastMessage('');
                }, 3000);
            };

            // Fixar ou desafixar mensagem
            const togglePinMessage = (message) => {
                let updatedPinnedMessages = [];
                if (pinnedMessages.some(msg => msg.id === message.id)) {
                    updatedPinnedMessages = pinnedMessages.filter(msg => msg.id !== message.id);
                    showToast('Mensagem desafixada!');
                } else {
                    updatedPinnedMessages = [...pinnedMessages, message];
                    showToast('Mensagem fixada!');
                }
                setPinnedMessages(updatedPinnedMessages);
                localStorage.setItem('pinnedMessages', JSON.stringify(updatedPinnedMessages));
            };

            // Renderizar categorias na sidebar e no menu mobile
            React.useEffect(() => {
                renderCategories();
            }, [categories]);

            const renderCategories = () => {
                const categoryList = categories.map(category => (
                    <li key={category.id}>
                        <a href="#" onClick={() => handleCategorySelect(category)}>
                            {category.title}
                        </a>
                    </li>
                ));

                // Sidebar
                ReactDOM.render(
                    <ul className="category-list">
                        <li>
                            <a href="#" onClick={() => handleCategorySelect(null)}>Todas as Mensagens</a>
                        </li>
                        {categoryList}
                    </ul>,
                    document.getElementById('categoryList')
                );

                // Menu Mobile
                ReactDOM.render(
                    <ul>
                        <li>
                            <a href="#" onClick={() => handleCategorySelect(null)}>Todas</a>
                        </li>
                        {categoryList}
                    </ul>,
                    document.getElementById('mobileCategoryList')
                );
            };

            return (
                <>
                    {/* Campo de Busca */}
                    <div className="search-bar" style={{ marginBottom: '20px' }}>
                        <input
                            type="text"
                            placeholder="Buscar mensagens..."
                            value={searchTerm}
                            onChange={handleSearch}
                        />
                        <i className="fas fa-search search-icon"></i>
                    </div>

                    {/* Campos de Nome e Telefone */}
                    <div className="contact-info">
                        <div className="input-group">
                            <label htmlFor="clientName">Nome:</label>
                            <input
                                type="text"
                                id="clientName"
                                value={clientName}
                                onChange={handleClientNameChange}
                                placeholder="Nome do Cliente"
                            />
                        </div>
                        <div className="input-group">
                            <label htmlFor="clientPhone">Telefone:</label>
                            <input
                                type="text"
                                id="clientPhone"
                                value={clientPhone}
                                onChange={handleClientPhoneChange}
                                placeholder="(83) 99647-6052"
                            />
                        </div>
                    </div>

                    {/* Mensagens Fixadas */}
                    {pinnedMessages.length > 0 && (
                        <div>
                            <h4>Mensagens Fixadas</h4>
                            <div className="message-list">
                                {pinnedMessages.map(message => (
                                    <div className="message-card fade-in" key={message.id}>
                                        <button className="pin-button" onClick={() => togglePinMessage(message)}>
                                            <i className="fas fa-star"></i>
                                        </button>
                                        <div className="message-header">
                                            <span className="icon">{message.icon}</span>
                                            <h5>{message.title}</h5>
                                        </div>
                                        <div className="message-body">
                                            {personalizeMessage(message.text)}
                                        </div>
                                        <div className="action-buttons">
                                            <button className="btn-copy" onClick={() => copyMessage(message.text)}>
                                                <i className="fas fa-copy"></i> Copiar
                                            </button>
                                            <button className="btn-whatsapp" onClick={() => sendWhatsApp(message.text)}>
                                                <i className="fab fa-whatsapp"></i> WhatsApp
                                            </button>
                                            <button className="btn-edit" onClick={() => openEditModal(message)}>
                                                <i className="fas fa-edit"></i> Editar
                                            </button>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* Lista de Mensagens */}
                    <h4>{selectedCategory ? selectedCategory.title : 'Todas as Mensagens'}</h4>
                    <div className="message-list">
                        {filteredMessages.map(message => (
                            <div className="message-card fade-in" key={message.id}>
                                <button className="pin-button" onClick={() => togglePinMessage(message)}>
                                    <i className={pinnedMessages.some(msg => msg.id === message.id) ? 'fas fa-star' : 'far fa-star'}></i>
                                </button>
                                <div className="message-header">
                                    <span className="icon">{message.icon}</span>
                                    <h5>{message.title}</h5>
                                </div>
                                <div className="message-body">
                                    {personalizeMessage(message.text)}
                                </div>
                                <div className="action-buttons">
                                    <button className="btn-copy" onClick={() => copyMessage(message.text)}>
                                        <i className="fas fa-copy"></i> Copiar
                                    </button>
                                    <button className="btn-whatsapp" onClick={() => sendWhatsApp(message.text)}>
                                        <i className="fab fa-whatsapp"></i> WhatsApp
                                    </button>
                                    <button className="btn-edit" onClick={() => openEditModal(message)}>
                                        <i className="fas fa-edit"></i> Editar
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* Modal de Edi√ß√£o */}
                    {modalVisible && (
                        <div className="modal-overlay active" onClick={() => setModalVisible(false)}>
                            <div className="modal-content" onClick={(e) => e.stopPropagation()}>
                                <h4>Editar Mensagem</h4>
                                <textarea
                                    value={modalMessage.text}
                                    onChange={(e) => setModalMessage({ ...modalMessage, text: e.target.value })}
                                ></textarea>
                                <div className="modal-actions">
                                    <button className="btn-close" onClick={() => setModalVisible(false)}>Fechar</button>
                                    <button className="btn-save" onClick={saveEditedMessage}>Salvar</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Toast Notification */}
                    <div className="toast" id="toast">{toastMessage}</div>
                </>
            );
        }

        ReactDOM.render(<App />, document.getElementById('mainContent'));

        // Evento para o bot√£o de menu no mobile
        document.getElementById('menuToggle').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu.style.display === 'block') {
                mobileMenu.style.display = 'none';
            } else {
                mobileMenu.style.display = 'block';
            }
        });



    </script>
</body>
</html>
