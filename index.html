<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Messages</title>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background: #f4f4f9; font-family: 'Helvetica Neue', sans-serif; font-size: 16px; color: #333; }
        
        .header {
            background: #ffffff;
            padding: 20px;
            width: 100%;
            z-index: 10;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .scroll-container {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            padding: 20px;
            gap: 15px;
            margin-top: 100px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        
        .scroll-container::-webkit-scrollbar {
            display: none;
        }
        
        .message-card {
            flex: 0 0 240px;
            height: 120px;
            background: linear-gradient(135deg, #007b83, #004d40);
            border-radius: 15px;
            padding: 20px;
            color: white;
            cursor: pointer;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .message-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .message-list {
            background: #ffffff;
            margin: 20px;
            padding: 25px;
            border-radius: 20px;
            min-height: 400px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .back-btn {
            background: #004d40;
            color: white;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            border: none;
            transition: background 0.3s;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            background: #00362f;
        }
        
        .message-item {
            background: #f8f9fa;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: box-shadow 0.3s ease;
        }
        
        .message-item:hover {
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .message-preview {
            font-size: 14px;
            color: #555;
            margin-top: 10px;
            line-height: 1.4;
            max-height: 60px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .input {
            width: 100%;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
            margin-bottom: 15px;
            font-size: 14px;
        }
        
        .input:focus {
            box-shadow: 0 0 8px rgba(0, 184, 148, 0.6);
        }
        
        .btn {
            padding: 10px 16px;
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            margin-right: 10px;
            transition: background 0.3s, transform 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .btn-copy { background: #007965; }
        .btn-copy:hover { background: #006953; transform: scale(1.05); }
        
        .btn-whats { background: #25D366; }
        .btn-whats:hover { background: #1c9c50; transform: scale(1.05); }

        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #25D366;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
            font-size: 14px;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(-10px);
        }

        .scroll-to-top {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: #007965;
            color: white;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: background 0.3s, box-shadow 0.3s;
        }

        .scroll-to-top:hover {
            background: #006953;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
        }
        
        .modal-content {
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 500px;
            height: 90%;
            max-height: 90vh;
            font-size: 16px;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid #ccc;
        }

        .modal-title {
            font-size: 20px;
            font-weight: bold;
            color: #004d40;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #004d40;
        }

        .modal-close:hover {
            color: #00362f;
        }

        .modal-body {
            flex: 1;
            overflow-y: auto;
            margin-top: 20px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            padding: 15px;
            border-top: 1px solid #ccc;
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <div id="toast" class="toast">Mensagem copiada!</div>
    <div id="scrollToTop" class="scroll-to-top" style="display: none;">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script type="text/babel">
        function App() {
            const [name, setName] = React.useState("");
            const [phone, setPhone] = React.useState("");
            const [selectedCategory, setSelectedCategory] = React.useState(null);
            const [isModalOpen, setIsModalOpen] = React.useState(false);
            const [modalContent, setModalContent] = React.useState({ text: "", categoryId: null, messageIndex: null });
            const [categories, setCategories] = React.useState({});

            // IndexedDB setup
            React.useEffect(() => {
                const request = indexedDB.open("MessagesDB", 1);
                request.onupgradeneeded = (event) => {
                    const db = event.target.result;
                    if (!db.objectStoreNames.contains("categories")) {
                        const objectStore = db.createObjectStore("categories", { keyPath: "id" });
                        objectStore.transaction.oncomplete = () => {
                            const categoriesObjectStore = db.transaction("categories", "readwrite").objectStore("categories");

                        // 1. Boas-Vindas e Primeiros Contatos

// 1. Boas-Vindas e Primeiros Contatos
categoriesObjectStore.add({
    id: "greetings",
    title: "Mensagens SaudaÃ§Ã£o",
    icon: "ðŸ‘‹",
    sortOrder: 1,
    messages: [
        {
            title: "Boas-vindas com ApresentaÃ§Ã£o de ServiÃ§os",
            icon: "ðŸŽ‰",
            text: "Boa tarde, seja bem-vindo ao atendimento do (meu nome) da empresa (nome da empresa). Aqui trabalhamos com trÃ¡fego pago, social media e mentoria de atendimento no WhatsApp. Ã‰ um prazer receber o seu contato. Para agilizar, me diga: qual sua dÃºvida?"
        },
        {
            title: "Boas-vindas da AgÃªncia",
            icon: "ðŸš€",
            text: "OlÃ¡, seja bem-vindo ao atendimento da (nome da empresa), a melhor agÃªncia quando o assunto Ã© marketing digital. Para continuar seu atendimento, me diga qual o seu nome e qual produto tem interesse?"
        },
        {
            title: "Boas-vindas e Pergunta sobre Desafios",
            icon: "ðŸ’¡",
            text: "OlÃ¡, obrigado pelo seu contato. Me diga, qual desafio que vocÃª estÃ¡ enfrentando que podemos ajudar?"
        },
        {
            title: "Boas-vindas com IntroduÃ§Ã£o da Equipe",
            icon: "ðŸ™‹â€â™€ï¸",
            text: "OlÃ¡, tudo bem? Meu nome Ã© Rafaela da equipe do Nathan do Marketing. Obrigado por entrar em contato, para prosseguir com o seu atendimento, me diga qual o seu nome?"
        },
        {
            title: "Boas-vindas da Empresa",
            icon: "ðŸ¢",
            text: "OlÃ¡! Seja bem-vindo(a)! Somos a empresa [NOME DA EMPRESA]. Escreva seu interesse ou dÃºvida logo abaixo, e logo vocÃª serÃ¡ atendido!"
        }
    ]
});

// 2. ReferÃªncias e IndicaÃ§Ãµes
categoriesObjectStore.add({
    id: "indicacao",
    title: "INDICAÃ‡ÃƒO",
    icon: "âš¡",
    sortOrder: 2,
    messages: [
        {
            title: "Abordagem Inicial - Cliente Indicado",
            text: "Oi [nome],\n\nTudo bem? A [nome da pessoa que indicou] me passou o seu contato. Meu nome Ã© Nathan. Ela me indicou seu contato, eu trabalho com transformaÃ§Ã£o de negÃ³cio e aumento de faturamento para empreendedores atravÃ©s das redes sociais."
        },
        {
            title: "Agendamento de Conversa",
            text: "Para podermos conversar melhor, qual melhor dia para agendarmos uma conversa? Hoje Ã s 17:00 ou amanhÃ£?"
        }      
    ]
});

// 3. Agendamento de ReuniÃµes
categoriesObjectStore.add({
    id: "agenda",
    title: "AGENDA",
    icon: "ðŸ“†",
    sortOrder: 3,
    messages: [
        {
            title: "Agendar HorÃ¡rio",
            text: "OlÃ¡ [nome],\n\nTenho certeza de que uma rÃ¡pida reuniÃ£o sobre [produto/serviÃ§o] pode te proporcionar [benefÃ­cio especÃ­fico]. Posso reservar 30 minutos do seu tempo na [data/horÃ¡rio sugerido]? Vai valer a pena, prometo!"
        },
        {
            title: "Valor Exclusivo",
            text: "Oi [nome],\n\nQuero te oferecer uma soluÃ§Ã£o personalizada para [dor ou necessidade do cliente]. Para garantir que seja algo realmente exclusivo e eficaz, precisamos nos reunir. Que tal [data/horÃ¡rio sugerido]? Essa oportunidade Ã© Ãºnica!"
        },
        {
            title: "Escassez de Tempo",
            text: "OlÃ¡ [nome],\n\nMinha agenda para a prÃ³xima semana estÃ¡ quase cheia, mas faÃ§o questÃ£o de garantir um espaÃ§o para vocÃª. Podemos agendar para [data/horÃ¡rio sugerido]? NÃ£o perca essa chance de resolver [problema especÃ­fico] com [produto/serviÃ§o]."
        },
        {
            title: "Garantia de SoluÃ§Ã£o",
            text: "Oi [nome],\n\nEstou confiante de que nossa reuniÃ£o vai resolver [problema do cliente] de forma definitiva. Posso te atender na [data/horÃ¡rio sugerido]? Vamos trabalhar juntos para transformar isso em realidade."
        },
        {
            title: "Acompanhamento EstratÃ©gico",
            text: "OlÃ¡ [nome],\n\nNossa reuniÃ£o pode ser o prÃ³ximo passo crucial para [meta do cliente]. Tenho algumas estratÃ©gias que podem acelerar seus resultados. Podemos agendar para [data/horÃ¡rio sugerido]? NÃ£o vejo a hora de discutirmos isso."
        },
        {
            title: "Investimento de Tempo Inteligente",
            text: "Oi [nome],\n\nInvestir 30 minutos do seu tempo na nossa reuniÃ£o pode te economizar [quantidade de tempo ou dinheiro] no futuro com [produto/serviÃ§o]. Vamos agendar para [data/horÃ¡rio sugerido]? SerÃ¡ um investimento que valerÃ¡ a pena!"
        }
    ]
});

// 4. ConfirmaÃ§Ãµes e Lembretes de Agendamento
// 4.1 Evitando Furo
categoriesObjectStore.add({
    id: "lembrete_agendamento",
    title: "Evitando Furo",
    icon: "ðŸ“…",
    sortOrder: 4,
    messages: [
        {
            title: "Lembrete Sutil",
            icon: "ðŸ””",
            text: "OlÃ¡ [nome],\n\nEspero que esteja bem! Apenas lembrando que temos nosso encontro agendado para [data/horÃ¡rio]. Estou ansioso para nossa conversa e para compartilhar as soluÃ§Ãµes que preparamos especialmente para vocÃª."
        },
        {
            title: "ConfirmaÃ§Ã£o Cordial",
            icon: "âœ…",
            text: "Oi [nome],\n\nTudo certo? Nosso horÃ¡rio para [data/horÃ¡rio] estÃ¡ confirmado. Tenho certeza de que serÃ¡ um encontro produtivo e esclarecedor. Fico Ã  disposiÃ§Ã£o caso precise ajustar algo."
        },
        {
            title: "Agradecimento e Lembrete",
            icon: "ðŸ™",
            text: "OlÃ¡ [nome],\n\nAgradeÃ§o por reservar um tempo para nossa reuniÃ£o em [data/horÃ¡rio]. Estou preparando tudo para que seja o mais proveitosa possÃ­vel. Nos vemos em breve!"
        },
        {
            title: "Expectativa Positiva",
            icon: "ðŸŽ¯",
            text: "Oi [nome],\n\nSÃ³ para confirmar que nossa reuniÃ£o estÃ¡ marcada para [data/horÃ¡rio]. Estou empolgado para discutirmos [assunto especÃ­fico] e como podemos avanÃ§ar juntos. AtÃ© lÃ¡!"
        },
        {
            title: "Toque de Exclusividade",
            icon: "ðŸ’Ž",
            text: "OlÃ¡ [nome],\n\nTudo certo? Lembrando que temos um horÃ¡rio reservado para vocÃª em [data/horÃ¡rio]. Esse tempo foi especialmente dedicado para discutir suas necessidades e encontrar as melhores soluÃ§Ãµes. SerÃ¡ um prazer falar com vocÃª!"
        },
        {
            title: "Lembrete para AmanhÃ£",
            icon: "â°",
            text: "OlÃ¡ [nome],\n\nSÃ³ passando para lembrar que nossa reuniÃ£o Ã© amanhÃ£, Ã s [horÃ¡rio]. Estou ansioso para conversarmos e avanÃ§armos com [assunto especÃ­fico]. Qualquer necessidade, estou Ã  disposiÃ§Ã£o!"
        },
        {
            title: "Lembrete no Dia",
            icon: "ðŸ“†",
            text: "Bom dia, [nome]!\n\nNossa reuniÃ£o estÃ¡ confirmada para hoje, Ã s [horÃ¡rio]. Estou preparado para discutirmos [assunto especÃ­fico] e garantir que seja um encontro produtivo. Nos falamos em breve!"
        },
        {
            title: "Lembrete AmigÃ¡vel",
            icon: "ðŸ˜Š",
            text: "OlÃ¡ [nome],\n\nEstou ansioso para nossa reuniÃ£o/consulta agendada para [data/horÃ¡rio]. Este Ã© um lembrete amigÃ¡vel para garantir que vocÃª tenha tudo pronto. Se precisar ajustar o horÃ¡rio ou tiver alguma dÃºvida, estou Ã  disposiÃ§Ã£o."
        },
        {
            title: "2 Dias Antes",
            icon: "â³",
            text: "Oi [nome],\n\nFalta pouco para nossa reuniÃ£o/consulta em [data/horÃ¡rio]. SÃ³ queria relembrar a data e garantir que estÃ¡ tudo certo. Estou aqui para qualquer ajuste ou esclarecimento que vocÃª precise."
        },
        {
            title: "1 Dia Antes",
            icon: "ðŸ“†",
            text: "OlÃ¡ [nome],\n\nAmanhÃ£ Ã© o dia da nossa reuniÃ£o/consulta Ã s [horÃ¡rio]. Estou ansioso para nosso encontro e pronto para discutir [assunto especÃ­fico]. Se precisar de algo antes disso, por favor, me avise."
        },
        {
            title: "No Dia",
            icon: "ðŸ””",
            text: "Oi [nome],\n\nHoje Ã© o dia da nossa reuniÃ£o/consulta Ã s [horÃ¡rio]. Estarei pronto para nossa conversa e para responder a quaisquer perguntas. Se houver qualquer mudanÃ§a ou imprevisto, por favor, me informe."
        }
    ]
});

// 4.2 Lembrar Agenda Cliente Existente
categoriesObjectStore.add({
    id: "lembrete_agendamento_cliente_existente",
    title: "Lembrar Agenda Cliente",
    icon: "ðŸ“…",
    sortOrder: 5,
    messages: [
        {
            title: "4 Dias Antes",
            icon: "ðŸ—“ï¸",
            text: "OlÃ¡ [nome],\n\nEstou lembrando que temos uma reuniÃ£o/consulta agendada para [data/horÃ¡rio]. Quero garantir que vocÃª esteja preparado e pronto para nossa discussÃ£o. Se precisar de algo ou quiser ajustar o horÃ¡rio, me avise."
        },
        {
            title: "2 Dias Antes",
            icon: "â³",
            text: "Oi [nome],\n\nNossa reuniÃ£o/consulta estÃ¡ se aproximando, marcada para [data/horÃ¡rio]. SÃ³ para confirmar que tudo estÃ¡ em ordem e que vocÃª estÃ¡ pronto para nossa conversa. Estou disponÃ­vel para qualquer dÃºvida ou ajuste necessÃ¡rio."
        },
        {
            title: "1 Dia Antes",
            icon: "ðŸ“…",
            text: "OlÃ¡ [nome],\n\nSÃ³ um lembrete de que nossa reuniÃ£o/consulta Ã© amanhÃ£ Ã s [horÃ¡rio]. Estou ansioso para nossa discussÃ£o e pronto para qualquer questÃ£o que vocÃª possa ter. Se precisar de algo antes do encontro, Ã© sÃ³ me falar."
        },
        {
            title: "No Dia",
            icon: "ðŸ””",
            text: "Oi [nome],\n\nHoje Ã© o dia da nossa reuniÃ£o/consulta Ã s [horÃ¡rio]. Estarei disponÃ­vel para nossa conversa e para qualquer necessidade de Ãºltima hora. Se houver qualquer mudanÃ§a, por favor, me avise o quanto antes."
        }
    ]
});

// 5. ExploraÃ§Ã£o e QualificaÃ§Ã£o
// 5.1 Perguntas e ExploraÃ§Ã£o
categoriesObjectStore.add({
    id: "perguntas_exploracao",
    title: "Perguntas e ExploraÃ§Ã£o",
    icon: "ðŸ’¬",
    sortOrder: 6,
    messages: [
        {
            title: "Objetivo ou Desafio Principal",
            icon: "ðŸŽ¯",
            text: "Boa tarde [nome], qual o seu principal objetivo ou desafio em relaÃ§Ã£o a [ASSUNTO DO QUE VENDE]?"
        },
        {
            title: "Busca por Diferenciais",
            icon: "ðŸŒŸ",
            text: "O que vocÃª procura como diferencial nesse produto/serviÃ§o?"
        },
        {
            title: "IncomodaÃ§Ãµes com o Tema",
            icon: "â“",
            text: "O que mais te incomoda quando o tema Ã© [ASSUNTO DO PRODUTO QUE VOCÃŠ VENDE]?"
        },
        {
            title: "OpÃ§Ãµes Alternativas",
            icon: "ðŸ”„",
            text: "VocÃª tem interesse apenas nesse modelo ou posso te mostrar outras opÃ§Ãµes?"
        },
        {
            title: "EspecificaÃ§Ã£o de Necessidade",
            icon: "ðŸ”",
            text: "Pode me dizer em detalhes o que estÃ¡ procurando?"
        },
        {
            title: "Investimento Estimado",
            icon: "ðŸ’°",
            text: "VocÃª tem ideia do quanto quer investir?"
        },
        {
            title: "CritÃ©rio de Escolha",
            icon: "ðŸ”‘",
            text: "O que vocÃª considera mais importante para escolher com quem vai fechar?"
        },
        {
            title: "ExperiÃªncia Anterior",
            icon: "ðŸ“‹",
            text: "VocÃª jÃ¡ passou por esse procedimento alguma vez?"
        },
        {
            title: "BenefÃ­cio Mais Importante",
            icon: "ðŸŽ",
            text: "De todos os benefÃ­cios desse produto/serviÃ§o, qual Ã© o mais importante para vocÃª?"
        },
        {
            title: "VerificaÃ§Ã£o de Entendimento",
            icon: "ðŸ¤”",
            text: "AtÃ© agora, entendeu tudo que te passei? EstÃ¡ com alguma dÃºvida?"
        },
        {
            title: "ConfirmaÃ§Ã£o PrÃ©-Investimento",
            icon: "ðŸ“ˆ",
            text: "Antes de eu te apresentar os valores de investimento, faz sentido o que te apresentei atÃ© agora ou ficou com alguma dÃºvida?"
        },
        {
            title: "SoluÃ§Ãµes Adicionais",
            icon: "ðŸ’¡",
            text: "E o que vocÃª acha se ao invÃ©s de vocÃª ter apenas (SOLUÃ‡ÃƒO DO SEU PRODUTO) vocÃª tambÃ©m resolvesse (MAIS UMA SOLUÃ‡ÃƒO) e (OUTRA SOLUÃ‡ÃƒO), pagando menos?"
        },
        {
            title: "Forma de Pagamento",
            icon: "ðŸ’³",
            text: "O valor Ã© X. Qual a melhor forma de pagamento para vocÃª?"
        },
        {
            title: "Escolha do Link de Pagamento",
            icon: "ðŸ”—",
            text: "VocÃª prefere que eu te mande o link para pagamento ou pix?"
        },
        {
            title: "Incentivo de Oportunidade",
            icon: "ðŸ”¥",
            text: "O que falta para vocÃª nÃ£o perder essa oportunidade?"
        }
    ]
});

// 5.2 Interesse no Problema
categoriesObjectStore.add({
    id: "interesse_problema_cliente",
    title: "Interesse no Problema",
    icon: "ðŸ§",
    sortOrder: 7,
    messages: [
        {
            title: "Pergunta Aberta",
            icon: "ðŸ’¬",
            text: "OlÃ¡ [nome],\n\nEspero que esteja bem. Queria entender melhor suas necessidades para garantir que possamos oferecer a melhor soluÃ§Ã£o para vocÃª. HÃ¡ algum desafio especÃ­fico que vocÃª estÃ¡ enfrentando atualmente?"
        },
        {
            title: "IdentificaÃ§Ã£o de Problema",
            icon: "ðŸ”",
            text: "Oi [nome],\n\nPercebi que vocÃª mencionou [problema especÃ­fico] anteriormente. Gostaria de saber mais sobre como isso estÃ¡ impactando vocÃª e como podemos ajudar a resolver isso da melhor forma possÃ­vel. Podemos conversar mais sobre isso?"
        },
        {
            title: "SoluÃ§Ã£o Personalizada",
            icon: "ðŸŽ¯",
            text: "OlÃ¡ [nome],\n\nEstamos aqui para ajudar! GostarÃ­amos de entender melhor os detalhes da sua situaÃ§Ã£o para que possamos oferecer uma soluÃ§Ã£o personalizada. Existe algum aspecto especÃ­fico que vocÃª acha que precisa de mais atenÃ§Ã£o?"
        },
        {
            title: "Acompanhamento Proativo",
            icon: "ðŸ¤",
            text: "Oi [nome],\n\nComo estÃ£o as coisas desde nossa Ãºltima conversa? Se hÃ¡ algo que nÃ£o foi resolvido ou qualquer nova dificuldade que surgiu, estou aqui para ajudar. Vamos discutir como podemos avanÃ§ar juntos?"
        },
        {
            title: "Consulta Detalhada",
            icon: "ðŸ”Ž",
            text: "OlÃ¡ [nome],\n\nGostaria de entender melhor o que vocÃª precisa para garantir que estamos alinhados com suas expectativas. VocÃª poderia compartilhar mais detalhes sobre os desafios que estÃ¡ enfrentando atualmente?"
        },
        {
            title: "PreocupaÃ§Ã£o com a SituaÃ§Ã£o Atual",
            icon: "ðŸ†˜",
            text: "Oi [nome],\n\nEstou preocupado em saber se vocÃª estÃ¡ enfrentando algum problema ou dificuldade recente. Estamos prontos para oferecer o suporte necessÃ¡rio. Como posso ajudar a melhorar sua situaÃ§Ã£o?"
        },
        {
            title: "Enfoque no Impacto",
            icon: "âš–ï¸",
            text: "OlÃ¡ [nome],\n\nGostaria de saber mais sobre como [problema ou situaÃ§Ã£o] estÃ¡ afetando vocÃª. Entender o impacto real nos permitirÃ¡ fornecer uma soluÃ§Ã£o mais eficaz. Podemos discutir isso em mais detalhes?"
        },
        {
            title: "Empatia e Ajuda",
            icon: "â¤ï¸",
            text: "Oi [nome],\n\nEntendo que vocÃª pode estar passando por um momento desafiador. Estou aqui para ouvir e ajudar da melhor forma possÃ­vel. Como posso ser Ãºtil para aliviar ou resolver o problema que vocÃª estÃ¡ enfrentando?"
        },
        {
            title: "Detalhes do Desafio",
            icon: "ðŸ“",
            text: "OlÃ¡ [nome],\n\nPara podermos ajudar da melhor forma, preciso entender melhor os detalhes do desafio que vocÃª estÃ¡ enfrentando. Poderia me dar mais informaÃ§Ãµes sobre o que estÃ¡ acontecendo e como isso estÃ¡ impactando vocÃª?"
        },
        {
            title: "Abordagem de SoluÃ§Ã£o",
            icon: "ðŸ”§",
            text: "Oi [nome],\n\nQueremos garantir que vocÃª receba a ajuda que precisa. Pode me contar mais sobre o problema especÃ­fico que estÃ¡ enfrentando para que possamos encontrar a soluÃ§Ã£o mais adequada para vocÃª?"
        }
    ]
});

// 6. Encantamento e Engajamento do Cliente
categoriesObjectStore.add({
    id: "encantamento_cliente",
    title: "Encantamento do Cliente",
    icon: "ðŸ‘‰ðŸ»",
    sortOrder: 8,
    messages: [
        {
            title: "Como EstÃ¡ Indo Seu Dia",
            icon: "ðŸŒž",
            text: "OlÃ¡ [nome], como estÃ¡ indo seu dia? HÃ¡ algo especÃ­fico com o qual vocÃª precisa de ajuda hoje?"
        },
        {
            title: "Andamento do Assunto EspecÃ­fico",
            icon: "ðŸ”",
            text: "Oi [nome], sÃ³ queria saber como estÃ¡ o andamento de [assunto especÃ­fico]. EstÃ¡ precisando de algum suporte adicional?"
        },
        {
            title: "MudanÃ§as no Plano",
            icon: "ðŸ”„",
            text: "OlÃ¡ [nome], tivemos alguma mudanÃ§a no seu plano ou nas suas necessidades desde nossa Ãºltima conversa?"
        },
        {
            title: "Compreender Expectativas",
            icon: "ðŸŽ¯",
            text: "Oi [nome], gostaria de entender melhor o que vocÃª espera alcanÃ§ar com [produto/serviÃ§o]. Pode me dar mais detalhes?"
        },
        {
            title: "Feedback Sobre ExperiÃªncia",
            icon: "ðŸ’¬",
            text: "OlÃ¡ [nome], como foi a experiÃªncia com [produto/serviÃ§o] atÃ© agora? HÃ¡ algo que possamos melhorar?"
        },
        {
            title: "Desafios Atuais",
            icon: "âš™ï¸",
            text: "Oi [nome], quais sÃ£o seus principais desafios atuais relacionados a [Ã¡rea especÃ­fica]? Podemos trabalhar juntos para solucionÃ¡-los."
        },
        {
            title: "ObstÃ¡culos Enfrentados",
            icon: "ðŸš§",
            text: "OlÃ¡ [nome], vocÃª encontrou algum obstÃ¡culo ou dificuldade desde que comeÃ§amos a trabalhar juntos? Estou aqui para ajudar."
        },
        {
            title: "PrÃ³ximos Passos",
            icon: "âž¡ï¸",
            text: "Oi [nome], queria saber se vocÃª tem alguma dÃºvida ou preocupaÃ§Ã£o sobre o prÃ³ximo passo em nosso processo."
        },
        {
            title: "PrÃ©via da PrÃ³xima ReuniÃ£o",
            icon: "ðŸ“…",
            text: "OlÃ¡ [nome], estamos nos aproximando da nossa prÃ³xima reuniÃ£o. HÃ¡ algo especÃ­fico que vocÃª gostaria de discutir ou revisar?"
        },
        {
            title: "ImplementaÃ§Ã£o da SoluÃ§Ã£o",
            icon: "âš’ï¸",
            text: "Oi [nome], como estÃ¡ indo a implementaÃ§Ã£o de [soluÃ§Ã£o ou serviÃ§o]? Posso oferecer algum suporte adicional?"
        },
        {
            title: "ResoluÃ§Ã£o de Problemas",
            icon: "ðŸ’¡",
            text: "OlÃ¡ [nome], vocÃª conseguiu resolver [problema especÃ­fico]? Se precisar de ajuda, estou Ã  disposiÃ§Ã£o para orientar."
        },
        {
            title: "Feedback Geral",
            icon: "ðŸ“",
            text: "Oi [nome], gostaria de saber como estÃ¡ a sua experiÃªncia geral com [produto/serviÃ§o]. Alguma sugestÃ£o ou feedback?"
        },
        {
            title: "Prioridade para PrÃ³xima Conversa",
            icon: "ðŸ”",
            text: "OlÃ¡ [nome], tem alguma questÃ£o ou tÃ³pico que vocÃª gostaria de priorizar em nossa prÃ³xima conversa?"
        },
        {
            title: "Progresso das Metas",
            icon: "ðŸ“ˆ",
            text: "Oi [nome], como estÃ¡ o progresso em relaÃ§Ã£o Ã s metas que estabelecemos? Existe algo que possamos ajustar?"
        },
        {
            title: "Detalhe da Ãšltima Conversa",
            icon: "ðŸ“",
            text: "OlÃ¡ [nome], vi que vocÃª mencionou [detalhe especÃ­fico] na nossa Ãºltima conversa. HÃ¡ alguma atualizaÃ§Ã£o sobre isso?"
        },
        {
            title: "ConfirmaÃ§Ã£o de Documentos",
            icon: "ðŸ“„",
            text: "Oi [nome], sÃ³ para garantir, vocÃª recebeu todas as informaÃ§Ãµes e documentos necessÃ¡rios para [assunto especÃ­fico]?"
        },
        {
            title: "SatisfaÃ§Ã£o com o ServiÃ§o",
            icon: "ðŸ¤²",
            text: "OlÃ¡ [nome], como vocÃª estÃ¡ se sentindo em relaÃ§Ã£o ao serviÃ§o que estÃ¡ recebendo? Posso fazer algo para melhorar sua experiÃªncia?"
        },
        {
            title: "ExploraÃ§Ã£o de Funcionalidades",
            icon: "ðŸ”",
            text: "Oi [nome], existe algum aspecto especÃ­fico de [produto/serviÃ§o] que vocÃª gostaria de explorar mais a fundo?"
        },
        {
            title: "Atendimento Ã s Expectativas",
            icon: "ðŸ”§",
            text: "OlÃ¡ [nome], quero garantir que estamos atendendo Ã s suas expectativas. HÃ¡ algo mais que eu possa fazer para ajudar?"
        },
        {
            title: "Ajuste na Agenda",
            icon: "ðŸ“…",
            text: "Oi [nome], qual seria o melhor horÃ¡rio para vocÃª se precisarmos ajustar algo no nosso plano atual? Estou flexÃ­vel para atender sua agenda."
        }
    ]
});

// 7. GestÃ£o de ObjeÃ§Ãµes
// 7.1 ObjeÃ§Ãµes Gerais
categoriesObjectStore.add({
    id: "objections",
    title: "ObjeÃ§Ãµes",
    icon: "ðŸ’­",
    sortOrder: 9,
    messages: [
        {
            title: "PreÃ§o Alto",
            text: `OlÃ¡ [nome], eu entendo sua preocupaÃ§Ã£o com o custo. ðŸ’¸

Ã‰ importante lembrar que nossa pelÃ­cula reduz atÃ© 85% do calor e economiza atÃ© 30% na conta de energia. A longo prazo, o investimento acaba se pagando e traz conforto duradouro. ðŸ˜Š

Posso ajudar com mais detalhes?`
        },
        {
            title: "Preciso Pensar",
            text: `Claro [nome], eu entendo que essa decisÃ£o precisa de reflexÃ£o. ðŸ§ 

Posso fornecer exemplos reais de economia e depoimentos de clientes satisfeitos, isso pode ajudar vocÃª a ter mais clareza.

Posso enviar mais informaÃ§Ãµes? ðŸ“„`
        },
        {
            title: "ConcorrÃªncia Mais Barata",
            text: `[nome], entendo que vocÃª possa ter visto ofertas mais baratas. âš–ï¸

Nossas pelÃ­culas sÃ£o importadas, com garantia de durabilidade e eficiÃªncia. AlÃ©m disso, oferecemos garantia vitalÃ­cia, diferente das pelÃ­culas comuns no mercado. 

Vamos comparar juntos os benefÃ­cios? ðŸ˜Š`
        },
        {
            title: "Estou Sem Pressa",
            text: `Sem problemas, [nome]! ðŸ˜Š

Mas vale lembrar que quanto antes a pelÃ­cula for instalada, mais cedo vocÃª comeÃ§arÃ¡ a economizar energia e proteger seu ambiente.

Quer aproveitar nossa oferta especial enquanto estÃ¡ disponÃ­vel? ðŸ•’`
        },
        {
            title: "JÃ¡ Tenho PelÃ­cula",
            text: `Oi [nome], compreendo que vocÃª jÃ¡ tenha uma pelÃ­cula instalada. ðŸ˜ƒ

PorÃ©m, nossas pelÃ­culas sÃ£o de Ãºltima geraÃ§Ã£o, com melhor desempenho em reduÃ§Ã£o de calor e durabilidade garantida. Pode ser o momento de melhorar ainda mais o conforto do seu ambiente.

Podemos agendar uma avaliaÃ§Ã£o gratuita? ðŸ“‹`
        }
    ]
});

// 7.2 Cita a ConcorrÃªncia
categoriesObjectStore.add({
    id: "concorrencia_preco",
    title: "Cita a ConcorrÃªncia",
    icon: "ðŸ’²",
    sortOrder: 10,
    messages: [
        {
            title: "ValorizaÃ§Ã£o do Produto",
            icon: "ðŸŒŸ",
            text: "Compreendo [nome], mas hoje o que valorizamos em nosso produto Ã© o resultado que entregamos em qualidade, suporte e uma boa plataforma."
        },
        {
            title: "Foco na Qualidade",
            icon: "ðŸ”",
            text: "Caso o preÃ§o seja o principal diferencial que esteja buscando, nÃ£o poderei te ajudar. Mas garanto a qualidade do produto. VocÃª quer marcar um horÃ¡rio para conhecer melhor o produto?"
        }
    ]
});

// 8. Fechamento da Venda
categoriesObjectStore.add({
    id: "closing",
    title: "Fechamento",
    icon: "ðŸ¤",
    sortOrder: 11,
    messages: [
        {
            title: "Proposta Final",
            text: `[nome], baseado no que conversamos, preparei uma proposta especial:

ðŸ’« PelÃ­cula premium com garantia vitalÃ­cia
ðŸ’° 30% de desconto para pagamento Ã  vista
ðŸŽ Brinde especial na instalaÃ§Ã£o
âš¡ InstalaÃ§Ã£o em atÃ© 48h

Podemos agendar a instalaÃ§Ã£o? ðŸ“…`
        },
        {
            title: "UrgÃªncia",
            text: `[nome], temos uma condiÃ§Ã£o especial vÃ¡lida atÃ© hoje:

ðŸ·ï¸ 20% de desconto na instalaÃ§Ã£o
ðŸŽ¯ Amostra grÃ¡tis para teste
â° InstalaÃ§Ã£o prioritÃ¡ria

O que acha de aproveitar essa oportunidade? ðŸ’«`
        }
    ]
});

// 9. PÃ³s-Venda e FidelizaÃ§Ã£o
// 9.1 Anti_Vacuo (Follow-up PÃ³s-Venda)
categoriesObjectStore.add({
    id: "anti_vacuo",
    title: "Anti_Vacuo",
    icon: "ðŸ¤",
    sortOrder: 12,
    messages: [
        {
            title: "Follow-up AmigÃ¡vel",
            text: "OlÃ¡ [nome],\n\nEspero que esteja tudo bem com vocÃª! SÃ³ queria retomar nossa conversa sobre [produto/serviÃ§o]. Estou disponÃ­vel para esclarecer qualquer dÃºvida ou seguir em frente com o prÃ³ximo passo quando vocÃª estiver pronto.\n\nFico Ã  disposiÃ§Ã£o para ajudar!"
        },
        {
            title: "Oferta de Ajuda",
            text: "Oi [nome],\n\nNotei que nÃ£o voltamos a nos falar desde nossa Ãºltima conversa. Entendo que a correria do dia a dia pode ser intensa, entÃ£o estou aqui para ajudar com qualquer dÃºvida ou questÃ£o que tenha sobre [produto/serviÃ§o].\n\nSerÃ¡ um prazer ajudÃ¡-lo!"
        },
        {
            title: "Relembrando BenefÃ­cios",
            text: "OlÃ¡ [nome],\n\nQueria saber se ainda estÃ¡ interessado em [produto/serviÃ§o]. Lembre-se de que ele pode [mencionar os principais benefÃ­cios], e estou aqui para garantir que vocÃª aproveite ao mÃ¡ximo.\n\nSe tiver alguma pergunta ou precisar de mais informaÃ§Ãµes, Ã© sÃ³ me avisar!"
        },
        {
            title: "Foco no Timing",
            text: "Oi [nome],\n\nEspero que esteja bem! Estava pensando sobre nossa Ãºltima conversa e queria saber se este Ã© o momento certo para avanÃ§ar com [produto/serviÃ§o]. Estou Ã  disposiÃ§Ã£o para adaptar nossa proposta ou esclarecer dÃºvidas que possam surgir.\n\nAguardo seu retorno!"
        },
        {
            title: "Oferecendo uma SoluÃ§Ã£o",
            text: "OlÃ¡ [nome],\n\nPercebi que nÃ£o voltamos a nos falar. Pode ser que algo tenha mudado em suas necessidades, e estou aqui para ajustar nossa oferta de [produto/serviÃ§o] de acordo com o que vocÃª realmente precisa.\n\nFique Ã  vontade para me contatar, estou aqui para ajudar!"
        },
        {
            title: "Ãšltima Chance (Gentil)",
            text: "Oi [nome],\n\nQuero garantir que vocÃª nÃ£o perca a oportunidade de [benefÃ­cio do produto/serviÃ§o]. Se ainda estiver interessado, estarei disponÃ­vel para conversarmos e encontrar a melhor soluÃ§Ã£o para vocÃª.\n\nEstou aqui caso queira retomar a conversa!"
        },
        {
            title: "Toque de UrgÃªncia (Agressivo)",
            text: "Oi [nome],\n\nVocÃª nÃ£o vai acreditar na oportunidade que estÃ¡ passando despercebida. Preciso falar com vocÃª sobre [produto/serviÃ§o] antes que seja tarde demais. Me manda uma mensagem para nÃ£o perder essa!"
        },
        {
            title: "Algo Exclusivo para VocÃª",
            text: "[nome],\n\nAcabei de garantir algo exclusivo para vocÃª com relaÃ§Ã£o ao [produto/serviÃ§o], mas preciso da sua resposta o mais rÃ¡pido possÃ­vel. VocÃª nÃ£o vai querer ficar de fora disso!"
        },
        {
            title: "Algo Inesperado Aconteceu",
            text: "[nome],\n\nAconteceu algo inesperado que pode mudar completamente nossa proposta de [produto/serviÃ§o]. Preciso falar com vocÃª agora para te explicar!"
        },
        {
            title: "Ãšltima Chance de Aproveitar",
            text: "[nome],\n\nEstou para fechar um negÃ³cio que pode impactar diretamente a oferta que fiz pra vocÃª sobre [produto/serviÃ§o]. Essa Ã© sua Ãºltima chance de aproveitar! Me responde o quanto antes."
        }
    ]
});

// 9.2 Pedir AvaliaÃ§Ã£o
categoriesObjectStore.add({
    id: "pedir_avaliacao",
    title: "Pedir AvaliaÃ§Ãµes",
    icon: "ðŸ“",
    sortOrder: 13,
    messages: [
        {
            title: "SolicitaÃ§Ã£o Simples e Agradecimento",
            icon: "ðŸ˜Š",
            text: "OlÃ¡ [nome],\n\nEspero que esteja bem! Gostaria de saber como foi sua experiÃªncia com nosso [serviÃ§o/atendimento]. Sua opiniÃ£o Ã© muito importante para nÃ³s e ajuda a melhorar nossos serviÃ§os. Pode dedicar um minuto para deixar uma avaliaÃ§Ã£o? Agradecemos muito!"
        },
        {
            title: "Pedido de Feedback com Valor",
            icon: "ðŸŒŸ",
            text: "Oi [nome],\n\nFoi um prazer atendÃª-lo recentemente. Para continuarmos a oferecer um excelente serviÃ§o, gostarÃ­amos de saber sua opiniÃ£o sobre o atendimento que recebeu. Por favor, compartilhe sua avaliaÃ§Ã£o e qualquer sugestÃ£o que possa ter. Sua contribuiÃ§Ã£o Ã© fundamental para nÃ³s!"
        },
        {
            title: "Agradecimento e AvaliaÃ§Ã£o Detalhada",
            icon: "ðŸ“‹",
            text: "OlÃ¡ [nome],\n\nObrigado por escolher nosso [serviÃ§o/consultÃ³rio/clÃ­nica]. Esperamos que sua experiÃªncia tenha sido positiva. Se puder, gostarÃ­amos muito que vocÃª nos desse um feedback detalhado sobre o que gostou e o que podemos melhorar. Isso nos ajuda a servir vocÃª e outros clientes ainda melhor!"
        },
        {
            title: "Envio de Link para AvaliaÃ§Ã£o",
            icon: "ðŸ”—",
            text: "Oi [nome],\n\nObrigado por confiar em nossos serviÃ§os. Para garantir que estamos sempre melhorando, pedimos que vocÃª nos ajude com uma breve avaliaÃ§Ã£o. Clique [aqui/link] para deixar sua opiniÃ£o. Seu feedback Ã© muito importante para nÃ³s e serÃ¡ muito apreciado!"
        },
        {
            title: "Acompanhamento PÃ³s-ServiÃ§o",
            icon: "ðŸ“ž",
            text: "OlÃ¡ [nome],\n\nEspero que tenha ficado satisfeito com nosso [serviÃ§o/atendimento]. Para nos ajudar a manter a qualidade, gostarÃ­amos de saber sua opiniÃ£o. Por favor, avalie nosso serviÃ§o e compartilhe suas impressÃµes. Estamos sempre buscando maneiras de melhorar e seu feedback Ã© essencial!"
        },
        {
            title: "AvaliaÃ§Ã£o com Agradecimento Especial",
            icon: "ðŸ’–",
            text: "Oi [nome],\n\nAgradecemos por ter utilizado nosso [serviÃ§o/atendimento]. Para nos ajudar a continuar oferecendo um serviÃ§o de alta qualidade, gostarÃ­amos de pedir sua avaliaÃ§Ã£o. Suas palavras fazem toda a diferenÃ§a e ajudarÃ£o outros clientes a conhecer nossa qualidade. Obrigado pelo seu tempo!"
        }
    ]
});

// 10. GestÃ£o de Agendamentos Cancelados ou NÃ£o Comparecimentos
// 10.1 Cliente Desmarcou
categoriesObjectStore.add({
    id: "cliente_desmarcou",
    title: "CLIENTE DESMARCOU",
    icon: "ðŸ”„",
    sortOrder: 14,
    messages: [
        {
            title: "Oportunidade IrrecusÃ¡vel",
            text: "OlÃ¡ [nome],\n\nEntendo que precisou desmarcar nossa reuniÃ£o/consulta. O que Ã­amos discutir Ã© uma oportunidade que pode realmente fazer a diferenÃ§a para vocÃª. Gostaria muito de garantir que vocÃª nÃ£o perca isso. Podemos remarcar para [nova data/horÃ¡rio]? SerÃ¡ um encontro crucial para alcanÃ§ar [resultado desejado]."
        },
        {
            title: "Foco em SoluÃ§Ã£o Personalizada",
            text: "Oi [nome],\n\nLamento que nÃ£o conseguimos nos encontrar como planejado. Tenho certeza de que a soluÃ§Ã£o personalizada que preparei para vocÃª Ã© exatamente o que precisa para resolver [problema ou necessidade]. Que tal remarcar para [nova data/horÃ¡rio]? NÃ£o quero que perca essa chance."
        },
        {
            title: "ReforÃ§ando o Impacto Positivo",
            text: "OlÃ¡ [nome],\n\nCompreendo que algo surgiu e tivemos que adiar nosso compromisso. Acredito que nossa reuniÃ£o/consulta pode ser um divisor de Ã¡guas para [meta ou objetivo]. Vamos remarcar para [nova data/horÃ¡rio]? Tenho certeza de que valerÃ¡ muito a pena."
        },
        {
            title: "Senso de UrgÃªncia e Prioridade",
            text: "Oi [nome],\n\nSei que imprevistos acontecem, mas o assunto que Ã­amos discutir Ã© de alta prioridade para alcanÃ§ar [benefÃ­cio especÃ­fico]. NÃ£o quero que isso fique pendente. Posso agendar um novo horÃ¡rio em [nova data/horÃ¡rio]? Vamos garantir que vocÃª nÃ£o perca essa oportunidade!"
        }
    ]
});

// 10.2 Cliente Furou
categoriesObjectStore.add({
    id: "cliente_furou",
    title: "CLIENTE FUROU",
    icon: "ðŸ””",
    sortOrder: 15,
    messages: [
        {
            title: "Reconhecimento e Novo Agendamento",
            icon: "â³",
            text: "OlÃ¡ [nome],\n\nNotamos que nÃ£o conseguimos nos encontrar na data agendada e ficamos aguardando sua presenÃ§a. Entendemos que imprevistos acontecem e gostarÃ­amos de reagendar para um horÃ¡rio que seja mais conveniente para vocÃª. Que tal [nova data/horÃ¡rio]? Estamos Ã  disposiÃ§Ã£o para encontrar um momento que se ajuste Ã  sua agenda."
        },
        {
            title: "ApreciaÃ§Ã£o e Nova Oportunidade",
            icon: "ðŸ’¼",
            text: "Oi [nome],\n\nPercebemos que nÃ£o pudemos realizar nossa reuniÃ£o/consulta conforme planejado e ficamos esperando por vocÃª. Acreditamos que o que temos a discutir Ã© muito importante e queremos oferecer uma nova oportunidade para isso. Podemos marcar um novo horÃ¡rio em [nova data/horÃ¡rio]? Aguardo sua confirmaÃ§Ã£o!"
        },
        {
            title: "Senso de ImportÃ¢ncia e Reagendamento",
            icon: "ðŸ“†",
            text: "OlÃ¡ [nome],\n\nVimos que nÃ£o conseguimos nos encontrar no horÃ¡rio combinado e ficamos aguardando. Entendemos que sua agenda pode ser cheia, mas gostarÃ­amos muito de discutir [assunto especÃ­fico] com vocÃª. Que tal reagendarmos para [nova data/horÃ¡rio]? Estamos prontos para encontrar um momento que funcione melhor para vocÃª."
        },
        {
            title: "ElegÃ¢ncia e Flexibilidade",
            icon: "ðŸ“­",
            text: "Oi [nome],\n\nNotamos que nÃ£o pudemos realizar nossa consulta/reuniÃ£o conforme agendado e ficamos esperando sua presenÃ§a. Compreendemos que podem ocorrer imprevistos e estamos aqui para acomodar sua agenda. Podemos marcar um novo horÃ¡rio em [nova data/horÃ¡rio]? Fico Ã  disposiÃ§Ã£o para ajustar conforme necessÃ¡rio."



                          
                                    }
                                ]
                            });
                        };
                    }
                };

                request.onsuccess = (event) => {
                    const db = event.target.result;
                    const transaction = db.transaction("categories", "readonly");
                    const objectStore = transaction.objectStore("categories");
                    const allCategoriesRequest = objectStore.getAll();

                    allCategoriesRequest.onsuccess = () => {
    let categoriesData = allCategoriesRequest.result;
    
    // Ordena as categorias com base no sortOrder
    categoriesData.sort((a, b) => a.sortOrder - b.sortOrder);
    
    setCategories(categoriesData);
};

                };
            }, []);

            const copyMessage = (text) => {
                const finalText = text.replace('[nome]', name || 'cliente');
                navigator.clipboard.writeText(finalText);
                const toast = document.getElementById('toast');
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2000);
            };

            const sendWhatsApp = (text) => {
                const cleanPhone = phone.replace(/\D/g, '');
                if (cleanPhone.length < 11) {
                    alert('Por favor, insira um nÃºmero de telefone vÃ¡lido com DDD');
                    return;
                }
                const finalText = text.replace('[nome]', name || 'cliente');
                window.location.href = `https://wa.me/55${cleanPhone}?text=${encodeURIComponent(finalText)}`;
            };

            const handleScroll = () => {
                const scrollToTopBtn = document.getElementById('scrollToTop');
                if (window.scrollY > 200) {
                    scrollToTopBtn.style.display = 'block';
                } else {
                    scrollToTopBtn.style.display = 'none';
                }
            };

            const scrollToTop = () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const openModal = (text, edit = false, categoryId = null, messageIndex = null) => {
                setModalContent({ text, categoryId, messageIndex });
                setIsModalOpen(true);
            };

            const closeModal = () => {
                setIsModalOpen(false);
            };

            const handleEditMessageInModal = (newText) => {
                setModalContent(prevContent => ({ ...prevContent, text: newText }));
            };

            const saveEditedMessage = () => {
                const { categoryId, messageIndex, text } = modalContent;
                setCategories(prevCategories => {
                    const updatedCategories = { ...prevCategories };
                    updatedCategories[categoryId].messages[messageIndex].text = text;
                    return updatedCategories;
                });

                const request = indexedDB.open("MessagesDB", 1);
                request.onsuccess = (event) => {
                    const db = event.target.result;
                    const transaction = db.transaction("categories", "readwrite");
                    const objectStore = transaction.objectStore("categories");
                    const getCategoryRequest = objectStore.get(categoryId);

                    getCategoryRequest.onsuccess = () => {
                        const category = getCategoryRequest.result;
                        category.messages[messageIndex].text = text;
                        const updateRequest = objectStore.put(category);

                        updateRequest.onsuccess = () => {
                            console.log("Mensagem atualizada com sucesso no IndexedDB");
                            showToast("Mensagem salva com sucesso!");
                        };

                        updateRequest.onerror = () => {
                            console.error("Erro ao atualizar a mensagem no IndexedDB");
                            showToast("Erro ao salvar a mensagem.", true);
                        };
                    };
                };

                request.onerror = () => {
                    console.error("Erro ao abrir o IndexedDB");
                    showToast("Erro ao abrir o banco de dados.", true);
                };

                setIsModalOpen(false);
            };

            const showToast = (message, isError = false) => {
                const toast = document.getElementById('toast');
                toast.textContent = message;
                toast.style.background = isError ? '#e74c3c' : '#25D366';
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2000);
            };

            React.useEffect(() => {
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            return (
                <>
                    <div className="header">
                        <input
                            className="input"
                            placeholder="Nome do Cliente"
                            value={name}
                            onChange={e => setName(e.target.value)}
                            autoFocus
                        />
                        <input
                            className="input"
                            placeholder="WhatsApp"
                            value={phone}
                            onChange={e => setPhone(e.target.value.replace(/\D/g, '').replace(/^(\d{2})(\d)/g, '($1) $2').replace(/(\d)(\d{4})$/, '$1-$2'))}
                        />
                    </div>

                    <div className="scroll-container">
                        {Object.values(categories).map(category => (
                            <div 
                                key={category.id} 
                                className="message-card"
                                onClick={() => setSelectedCategory(category)}
                            >
                                <div style={{fontSize: '16px'}}>{category.icon}</div>
                                <h3>{category.title}</h3>
                                <div>Acessar â†’</div>
                            </div>
                        ))}
                    </div>

                    {selectedCategory && (
                        <div className="message-list container">
                            <button className="back-btn" onClick={() => setSelectedCategory(null)}>
                                <i className="fas fa-arrow-left"></i> Voltar
                            </button>
                            <h2 style={{color: '#004d40', marginBottom: '20px'}}>
                                {selectedCategory.title}
                            </h2>
                            {selectedCategory.messages.map((message, index) => (
                                <div key={index} className="message-item" onClick={() => openModal(message.text, true, selectedCategory.id, index)}>
                                    <h3 style={{marginBottom: '10px', fontSize: '18px'}}>{message.title}</h3>
                                    <div className="message-preview">{message.text}</div>
                                    <div className="button-group">
                                        <button 
                                            className="btn btn-copy"
                                            onClick={(e) => {
                                                e.stopPropagation();
                                                copyMessage(message.text);
                                            }}
                                        >
                                            <i className="fas fa-copy"></i> Copiar
                                        </button>
                                        <button 
                                            className="btn btn-whats"
                                            onClick={(e) => {
                                                e.stopPropagation();
                                                sendWhatsApp(message.text);
                                            }}
                                        >
                                            <i className="fab fa-whatsapp"></i> WhatsApp
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                    <div id="scrollToTop" className="scroll-to-top" onClick={scrollToTop}>
                        <i className="fas fa-arrow-up"></i>
                    </div>

                    {isModalOpen && (
                        <div className="modal-overlay" onClick={closeModal}>
                            <div className="modal-content" onClick={e => e.stopPropagation()}>
                                <div className="modal-header">
                                    <span className="modal-title">Editar Mensagem</span>
                                    <button className="modal-close" onClick={closeModal}>&times;</button>
                                </div>
                                <div className="modal-body">
                                    <textarea
                                        className="input"
                                        value={modalContent.text}
                                        onChange={(e) => handleEditMessageInModal(e.target.value)}
                                        style={{ height: 'calc(100vh - 250px)', width: '100%' }}
                                    />
                                </div>
                                <div className="button-group">
                                    <button className="btn btn-success" onClick={saveEditedMessage}>Salvar</button>
                                    <button className="btn btn-danger" onClick={closeModal}>Fechar</button>
                                    <button className="btn btn-whats" onClick={() => sendWhatsApp(modalContent.text)}>
                                        <i className="fab fa-whatsapp"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
